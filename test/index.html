<!DOCTYPE html>
<html lang="en">
<body>
  <canvas id="canvas" width="1400" height="600"></canvas>
</body>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,user-scalable=no">
  <link rel="icon" href="data:image/png;base64,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">
  <title>Yêu Bé</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
    }

    body {
      overflow: hidden;
      display: flex;
      background: #111;
      perspective: 1000px;
      transform-style: preserve-3d;
    }

    #drag-container,
    #spin-container {
      position: relative;
      display: flex;
      margin: auto;
      transform-style: preserve-3d;
      transform: rotateX(-10deg);
    }

    #drag-container img,
    #drag-container video {
      transform-style: preserve-3d;
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      line-height: 200px;
      font-size: 50px;
      text-align: center;
      box-shadow: 0 0 8px #fff;
      -webkit-box-reflect: below 10px linear-gradient(transparent, transparent, #0005);
    }

    #drag-container img:hover,
    #drag-container video:hover {
      box-shadow: 0 0 15px #fffd;
      -webkit-box-reflect: below 10px linear-gradient(transparent, transparent, #0007);
    }

    #drag-container p {
      font-family: Serif;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translate(-50%, -50%) rotateX(90deg);
      color: #fff;
    }

    #ground {
      width: 900px;
      height: 900px;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translate(-50%, -50%) rotateX(90deg);
      background: -webkit-radial-gradient(center center, farthest-side, #9993, transparent);
    }

    #music-container {
      position: absolute;
      top: 0;
      left: 0;
    }

    #carousel-container {
      width: 100%;
      height: 100%;
    }

    @keyframes spin {
      from {
        transform: rotateY(0deg);
      }

      to {
        transform: rotateY(360deg);
      }
    }

    @keyframes spinRevert {
      from {
        transform: rotateY(360deg);
      }

      to {
        transform: rotateY(0deg);
      }
    }

    .box {
      width: 100%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
    }

    canvas {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #pinkboard {
      position: relative;
      margin: auto;
      height: 1000px;
      width: 1000px;
      animation: animate 1.3s infinite;
    }

    #pinkboard:before,
    #pinkboard:after {
      content: '';
      position: absolute;
      width: 100px;
      height: 160px;
      border-top-left-radius: 50px;
      border-top-right-radius: 50px;
    }

    #pinkboard:before {
      left: 100px;
      transform: rotate(-45deg);
      transform-origin: 0 100%;
      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),
        0 10px 10px rgba(0, 0, 0, 0.22);
    }

    #pinkboard:after {
      left: 0;
      transform: rotate(45deg);
      transform-origin: 100% 100%;
    }

    @keyframes animate {
      60% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }
    #music-container {
        display: none;
    }
  </style>
</head>

<body>
  <div class="box">
    <canvas id="pinkboard"></canvas>
  </div>

  <div id="drag-container">
    <div id="spin-container">
      <img src="./img/Messenger_creation_04FE26C6-7677-45E9-BAB8-6E0574321B71.jpeg" alt="" width="133" height="200">
      <img src="./img/Messenger_creation_54D7425E-7B18-4F42-A2F7-E0FEDCEA2945.jpeg" alt="" width="133" height="200">
      <img src="./img/Messenger_creation_608DB09C-237A-4768-8BBB-459126211E31.jpeg" alt="" width="133" height="200">
      <img src="./img/Messenger_creation_CD21B8D9-D98E-480B-BBD8-0B4AF7D3FC66.jpeg" alt="" width="133" height="200">
      <img src="./img/Messenger_creation_FDB771B4-27FF-4F43-8827-5D8ABDCF7C12.jpeg" alt="" width="133" height="200">

      <p>Bé iu của anh</p>

    </div>
    <div id="ground"></div>
  </div>

  <div id="music-container">
    <audio id="background-music"  controls autoplay>
        <source src="/test/ssstik.io_1725071240956.mp4" type="audio/mpeg">
    </audio>
  </div>

  <script>
    window.addEventListener('load', function() {
            var audio = document.getElementById('background-music');
            audio.play().catch(function(error) {
                console.log('Autoplay was prevented:', error);
            });
        });
    var radius = 240;
    var autoRotate = true;
    var rotateSpeed = -60;
    var imgWidth = 120;
    var imgHeight = 170;
    var bgMusicURL = 'https://api.soundcloud.com/tracks/191576787/stream?client_id=587aa2d384f7333a886010d5f52f302a';
    var bgMusicControls = false;
    setTimeout(init, 100);
    var obox = document.getElementById('drag-container');
    var ospin = document.getElementById('spin-container');
    var aImg = ospin.getElementsByTagName('img');
    var aVid = ospin.getElementsByTagName('video');
    var aEle = [...aImg, ...aVid];
    ospin.style.width = imgWidth + "px";
    ospin.style.height = imgHeight + "px";
    var ground = document.getElementById('ground');
    ground.style.width = radius * 3 + "px";
    ground.style.height = radius * 3 + "px";
    
    function init(delayTime) {
      for (var i = 0; i < aEle.length; i++) {
        aEle[i].style.transform = "rotateY(" + (i * (360 / aEle.length)) + "deg) translateZ(" + radius + "px)";
        aEle[i].style.transition = "transform 1s";
        aEle[i].style.transitionDelay = delayTime || (aEle.length - i) / 4 + "s";
      }
    }

    function applyTranform(obj) {
      if (tY > 180) tY = 180;
      if (tY < 0) tY = 0;
      obj.style.transform = "rotateX(" + (-tY) + "deg) rotateY(" + (tX) + "deg)";
    }

    function playSpin(yes) {
      ospin.style.animationPlayState = (yes ? 'running' : 'paused');
    }
    var sX, sY, nX, nY, desX = 0,
      desY = 0,
      tX = 0,
      tY = 10;
    if (autoRotate) {
      var animationName = (rotateSpeed > 0 ? 'spin' : 'spinRevert');
      ospin.style.animation = `${animationName} ${Math.abs(rotateSpeed)}s infinite linear`;
    }
    if (mobilecheck()) {
      document.ontouchstart = function(e) {
        clearInterval(obox.timer);
        e = e || window.event;
        var sX = e.touches[0].clientX,
          sY = e.touches[0].clientY;
        this.ontouchmove = function(e) {
          e = e || window.event;
          var nX = e.touches[0].clientX,
            nY = e.touches[0].clientY;
          desX = nX - sX;
          desY = nY - sY;
          tX += desX * 0.1;
          tY += desY * 0.1;
          applyTranform(obox);
          sX = nX;
          sY = nY;
        }
        this.ontouchend = function(e) {
          this.ontouchmove = this.ontouchend = null;
          obox.timer = setInterval(function() {
            desX *= 0.95;
            desY *= 0.95;
            tX += desX * 0.1;
            tY += desY * 0.1;
            applyTranform(obox);
            playSpin(false);
            if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {
              clearInterval(obox.timer);
              playSpin(true);
            }
          }, 17);
        }
      }
    } else {
      document.onmousedown = function(e) {
        clearInterval(obox.timer);
        e = e || window.event;
        var sX = e.clientX,
          sY = e.clientY;
        this.onmousemove = function(e) {
          e = e || window.event;
          var nX = e.clientX,
            nY = e.clientY;
          desX = nX - sX;
          desY = nY - sY;
          tX += desX * 0.1;
          tY += desY * 0.1;
          applyTranform(obox);
          sX = nX;
          sY = nY;
        }
        this.onmouseup = function(e) {
          this.onmousemove = this.onmouseup = null;
          obox.timer = setInterval(function() {
            desX *= 0.95;
            desY *= 0.95;
            tX += desX * 0.1;
            tY += desY * 0.1;
            applyTranform(obox);
            playSpin(false);
            if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {
              clearInterval(obox.timer);
              playSpin(true);
            }
          }, 13);
        }
        return false;
      }
      document.onmousewheel = function(e) {
        e = e || window.event;
        var d = e.wheelDelta / 20 || -e.detail;
        radius += d;
        init(1);
      };
    }

    function mobilecheck() {
      var check = false;
      (function(a) {
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
      })(navigator.userAgent || navigator.vendor || window.opera);
      return check;
    }
    var settings = {
      particles: {
        length: 2000, // maximum amount of particles
        duration: 2, // particle duration in sec
        velocity: 100, // particle velocity in pixels/sec
        effect: -1.3, // play with this for a nice effect
        size: 13, // particle size in pixels
      },
    };
    /*
     * RequestAnimationFrame polyfill by Erik Möller
     */
    (function() {
      var b = 0;
      var c = ["ms", "moz", "webkit", "o"];
      for (var a = 0; a < c.length && !window.requestAnimationFrame; ++a) {
        window.requestAnimationFrame = window[c[a] + "RequestAnimationFrame"];
        window.cancelAnimationFrame = window[c[a] + "CancelAnimationFrame"] || window[c[a] + "CancelRequestAnimationFrame"]
      }
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(h, e) {
          var d = new Date().getTime();
          var f = Math.max(0, 16 - (d - b));
          var g = window.setTimeout(function() {
            h(d + f)
          }, f);
          b = d + f;
          return g
        }
      }
      if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(d) {
          clearTimeout(d)
        }
      }
    }());
var canvas = document.getElementById("canvas");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;


var gl = canvas.getContext('webgl');
if(!gl){
  console.error("Unable to initialize WebGL.");
}


var time = 0.0;

//************** Shader sources **************

var vertexSource = `
attribute vec2 position;
void main() {
	gl_Position = vec4(position, 0.0, 1.0);
}
`;

var fragmentSource = `
precision highp float;

uniform float width;
uniform float height;
vec2 resolution = vec2(width, height);

uniform float time;

#define POINT_COUNT 8

vec2 points[POINT_COUNT];
const float speed = -0.5;
const float len = 0.25;
float intensity = 1.3;
float radius = 0.008;

//https://www.shadertoy.com/view/MlKcDD
//Signed distance to a quadratic bezier
float sdBezier(vec2 pos, vec2 A, vec2 B, vec2 C){    
	vec2 a = B - A;
	vec2 b = A - 2.0*B + C;
	vec2 c = a * 2.0;
	vec2 d = A - pos;

	float kk = 1.0 / dot(b,b);
	float kx = kk * dot(a,b);
	float ky = kk * (2.0*dot(a,a)+dot(d,b)) / 3.0;
	float kz = kk * dot(d,a);      

	float res = 0.0;

	float p = ky - kx*kx;
	float p3 = p*p*p;
	float q = kx*(2.0*kx*kx - 3.0*ky) + kz;
	float h = q*q + 4.0*p3;

	if(h >= 0.0){ 
		h = sqrt(h);
		vec2 x = (vec2(h, -h) - q) / 2.0;
		vec2 uv = sign(x)*pow(abs(x), vec2(1.0/3.0));
		float t = uv.x + uv.y - kx;
		t = clamp( t, 0.0, 1.0 );

		// 1 root
		vec2 qos = d + (c + b*t)*t;
		res = length(qos);
	}else{
		float z = sqrt(-p);
		float v = acos( q/(p*z*2.0) ) / 3.0;
		float m = cos(v);
		float n = sin(v)*1.732050808;
		vec3 t = vec3(m + m, -n - m, n - m) * z - kx;
		t = clamp( t, 0.0, 1.0 );

		// 3 roots
		vec2 qos = d + (c + b*t.x)*t.x;
		float dis = dot(qos,qos);
        
		res = dis;

		qos = d + (c + b*t.y)*t.y;
		dis = dot(qos,qos);
		res = min(res,dis);
		
		qos = d + (c + b*t.z)*t.z;
		dis = dot(qos,qos);
		res = min(res,dis);

		res = sqrt( res );
	}
    
	return res;
}


//http://mathworld.wolfram.com/HeartCurve.html
vec2 getHeartPosition(float t){
	return vec2(16.0 * sin(t) * sin(t) * sin(t),
							-(13.0 * cos(t) - 5.0 * cos(2.0*t)
							- 2.0 * cos(3.0*t) - cos(4.0*t)));
}

//https://www.shadertoy.com/view/3s3GDn
float getGlow(float dist, float radius, float intensity){
	return pow(radius/dist, intensity);
}

float getSegment(float t, vec2 pos, float offset, float scale){
	for(int i = 0; i < POINT_COUNT; i++){
		points[i] = getHeartPosition(offset + float(i)*len + fract(speed * t) * 6.28);
	}
    
	vec2 c = (points[0] + points[1]) / 2.0;
	vec2 c_prev;
	float dist = 10000.0;
    
	for(int i = 0; i < POINT_COUNT-1; i++){
		//https://tinyurl.com/y2htbwkm
		c_prev = c;
		c = (points[i] + points[i+1]) / 2.0;
		dist = min(dist, sdBezier(pos, scale * c_prev, scale * points[i], scale * c));
	}
	return max(0.0, dist);
}

void main(){
	vec2 uv = gl_FragCoord.xy/resolution.xy;
	float widthHeightRatio = resolution.x/resolution.y;
	vec2 centre = vec2(0.5, 0.5);
	vec2 pos = centre - uv;
	pos.y /= widthHeightRatio;
	//Shift upwards to centre heart
	pos.y += 0.02;
	float scale = 0.000015 * height;
	
	float t = time;
    
	//Get first segment
  float dist = getSegment(t, pos, 0.0, scale);
  float glow = getGlow(dist, radius, intensity);
  
  vec3 col = vec3(0.0);

	//White core
  col += 10.0*vec3(smoothstep(0.003, 0.001, dist));
  //Pink glow
  col += glow * vec3(1.0,0.05,0.3);
  
  //Get second segment
  dist = getSegment(t, pos, 3.4, scale);
  glow = getGlow(dist, radius, intensity);
  
  //White core
  col += 10.0*vec3(smoothstep(0.003, 0.001, dist));
  //Blue glow
  col += glow * vec3(0.1,0.4,1.0);
        
	//Tone mapping
	col = 1.0 - exp(-col);

	//Gamma
	col = pow(col, vec3(0.4545));

	//Output to screen
 	gl_FragColor = vec4(col,1.0);
}
`;


window.addEventListener('resize', onWindowResize, false);

function onWindowResize(){
  canvas.width  = window.innerWidth;
  canvas.height = window.innerHeight;
	gl.viewport(0, 0, canvas.width, canvas.height);
  gl.uniform1f(widthHandle, window.innerWidth);
  gl.uniform1f(heightHandle, window.innerHeight);
}


function compileShader(shaderSource, shaderType){
  var shader = gl.createShader(shaderType);
  gl.shaderSource(shader, shaderSource);
  gl.compileShader(shader);
  if(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)){
  	throw "Shader compile failed with: " + gl.getShaderInfoLog(shader);
  }
  return shader;
}

function getAttribLocation(program, name) {
  var attributeLocation = gl.getAttribLocation(program, name);
  if (attributeLocation === -1) {
  	throw 'Cannot find attribute ' + name + '.';
  }
  return attributeLocation;
}

function getUniformLocation(program, name) {
  var attributeLocation = gl.getUniformLocation(program, name);
  if (attributeLocation === -1) {
  	throw 'Cannot find uniform ' + name + '.';
  }
  return attributeLocation;
}

var vertexShader = compileShader(vertexSource, gl.VERTEX_SHADER);
var fragmentShader = compileShader(fragmentSource, gl.FRAGMENT_SHADER);


var program = gl.createProgram();
gl.attachShader(program, vertexShader);
gl.attachShader(program, fragmentShader);
gl.linkProgram(program);

gl.useProgram(program);


var vertexData = new Float32Array([
  -1.0,  1.0, 	// top left
  -1.0, -1.0, 	// bottom left
   1.0,  1.0, 	// top right
   1.0, -1.0, 	// bottom right
]);


var vertexDataBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vertexDataBuffer);
gl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW);


var positionHandle = getAttribLocation(program, 'position');

gl.enableVertexAttribArray(positionHandle);
gl.vertexAttribPointer(positionHandle,
  2, 				
  gl.FLOAT, 
  false, 		
  2 * 4, 		
  0 				
  );


var timeHandle = getUniformLocation(program, 'time');
var widthHandle = getUniformLocation(program, 'width');
var heightHandle = getUniformLocation(program, 'height');

gl.uniform1f(widthHandle, window.innerWidth);
gl.uniform1f(heightHandle, window.innerHeight);

var lastFrame = Date.now();
var thisFrame;

function draw(){

	thisFrame = Date.now();
  time += (thisFrame - lastFrame)/1000;	
	lastFrame = thisFrame;

  gl.uniform1f(timeHandle, time);
  
  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

  requestAnimationFrame(draw);
}

draw();
    /*
    
    var ParticlePool = (function() {
      var particles,
        firstActive = 0,
        firstFree = 0,
        duration = settings.particles.duration;

      function ParticlePool(length) {
        // create and populate particle pool
        particles = new Array(length);
        for (var i = 0; i < particles.length; i++)
          particles[i] = new Particle();
      }
      ParticlePool.prototype.add = function(x, y, dx, dy) {
        particles[firstFree].initialize(x, y, dx, dy);
        // handle circular queue
        firstFree++;
        if (firstFree == particles.length) firstFree = 0;
        if (firstActive == firstFree) firstActive++;
        if (firstActive == particles.length) firstActive = 0;
      };
      ParticlePool.prototype.update = function(deltaTime) {
        var i;
        // update active particles
        if (firstActive < firstFree) {
          for (i = firstActive; i < firstFree; i++)
            particles[i].update(deltaTime);
        }
        if (firstFree < firstActive) {
          for (i = firstActive; i < particles.length; i++)
            particles[i].update(deltaTime);
          for (i = 0; i < firstFree; i++)
            particles[i].update(deltaTime);
        }
        // remove inactive particles
        while (particles[firstActive].age >= duration && firstActive != firstFree) {
          firstActive++;
          if (firstActive == particles.length) firstActive = 0;
        }
      };
      ParticlePool.prototype.draw = function(context, image) {
        // draw active particles
        if (firstActive < firstFree) {
          for (i = firstActive; i < firstFree; i++)
            particles[i].draw(context, image);
        }
        if (firstFree < firstActive) {
          for (i = firstActive; i < particles.length; i++)
            particles[i].draw(context, image);
          for (i = 0; i < firstFree; i++)
            particles[i].draw(context, image);
        }
      };
      return ParticlePool;
    })();
    /*
     * Putting it all together
     */
    (function(canvas) {
      var context = canvas.getContext('2d'),
        particles = new ParticlePool(settings.particles.length),
        particleRate = settings.particles.length / settings.particles.duration, // particles/sec
        time;
      // get point on heart with -PI <= t <= PI
      function pointOnHeart(t) {
        return new Point(
          160 * Math.pow(Math.sin(t), 3),
          130 * Math.cos(t) - 50 * Math.cos(2 * t) - 20 * Math.cos(3 * t) - 10 * Math.cos(4 * t) + 25
        );
      }
      // creating the particle image using a dummy canvas
      var image = (function() {
        var canvas = document.createElement('canvas'),
          context = canvas.getContext('2d');
        canvas.width = settings.particles.size;
        canvas.height = settings.particles.size;
        // helper function to create the path
        function to(t) {
          var point = pointOnHeart(t);
          point.x = settings.particles.size / 2 + point.x * settings.particles.size / 350;
          point.y = settings.particles.size / 2 - point.y * settings.particles.size / 350;
          return point;
        }
        // create the path
        context.beginPath();
        var t = -Math.PI;
        var point = to(t);
        context.moveTo(point.x, point.y);
        while (t < Math.PI) {
          t += 0.01; // baby steps!
          point = to(t);
          context.lineTo(point.x, point.y);
        }
        context.closePath();
        // create the fill
        context.fillStyle = '#fab9d5';
        context.fill();
        // create the image
        var image = new Image();
        image.src = canvas.toDataURL();
        return image;
      })();
      // render that thing!
      function render() {
        // next animation frame
        requestAnimationFrame(render);
        // update time
        var newTime = new Date().getTime() / 1000,
          deltaTime = newTime - (time || newTime);
        time = newTime;
        // clear canvas
        context.clearRect(0, 0, canvas.width, canvas.height);
        // create new particles
        var amount = particleRate * deltaTime;
        for (var i = 0; i < amount; i++) {
          var pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
          var dir = pos.clone().length(settings.particles.velocity);
          particles.add(canvas.width / 2 + pos.x, canvas.height / 2 - pos.y, dir.x, -dir.y);
        }
        // update and draw particles
        particles.update(deltaTime);
        particles.draw(context, image);
      }
      // handle (re-)sizing of the canvas
      function onResize() {
        canvas.width = canvas.clientWidth * 0.5;
        canvas.height = canvas.clientHeight * 0.5;
      }
      window.onresize = onResize;
      // delay rendering bootstrap
      setTimeout(function() {
        onResize();
        render();
      }, 10);
    })(document.getElementById('pinkboard'));
  </script>
</body>

</html>